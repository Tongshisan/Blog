

# 6.26

1. css 滤镜

2. 文字渐变

   1. 在 `flex box` 中设置文字渐变,  `safari` 中没效果, 去掉 `flex` 就正常工作

3. 宽度由内容撑开:

   ```css
   div {
     display: inline-*;
     
     display: inline-block;
     display: inline-flex;
   }
   ```

4. antd 定制主题

5. loader

6. plugins

7. transition 不能作用于 display

8. react 事件冒泡

9. 隐藏 input.number 输入框后的上下箭头

10. 右击出现 元素

11. antd-table-filter

12. antd-table-sort

13. react 防抖的使用

14. 父元素有背景图片的情况且设置了.  opacity  下 如何规避子元素继承   opacitty

15. react-draggable

16. ReactDOM.createPortal

17. Css-resize [链接](https://www.zhangxinxu.com/study/201903/css-idea/behavior-stretch.php)

18. Monaco-editor

19. Viscose 拼音提示框一直消失

    + 解决： `ctrl` + `space`

20. 一行 `css` 添加黑暗模式

    ```css
    html {
      filter: invert(1)
    }
    ```

21. 页面刷新时 `componentWillUnmount` 不会执行

22. Chrome 模仿 微信浏览器

    + 控制台  --> setting --> Devices --> Add custom device
    + 填入 ua: `Mozilla/5.0 (Linux; Android 7.0; MI 5s Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36 wxwork/2.4.16 MicroMessenger/6.3.22 NetType/WIFI Language/zh` 

23. `window.location.host` 和 `window.location.hostname`

    + 假设 url: `http://example.org:8888/foo/bar#bang`
    + `window.location.host`:   `example.org:8888`
    + `window.location.hostname`: `example.org`

24. `reaction`

25. Vscode `canvas ` 没有代码提示

    ```js
    /** @type {HTMLCanvasElement} */
    const canvas = document.getElementById('test');
    ```

26. `sendBeacon`

27. [react 错误边界](https://zh-hans.reactjs.org/docs/error-boundaries.html)

28. 父组件调子组件方法

29. React 防抖

    ```ts
    export const debounce = (func: Function, delay: number): Function => {
    	let timer: any;
    
    	return (...args: any[]) => {
    		clearTimeout(timer);
    		timer = setTimeout(() => {
    			func.apply(this, args);
    		}, delay);
    	};
    };
    ```

30. `<a>` 有 `href`, 点击组织跳转

    ```html
    <a href="https://www.baidu.com" onClick={() = {return false}}>这个链接不会跳转</a>
    ```

31. `Failed to connect to github.com port 443: Operation timed out`

    ```sh
    git config --global --unset http.proxy
    git config --global --unset https.proxy
    ```

32. `npm install` 报错

    ```sh
    git dep preparation failed when trying to install package.json
    ```

    解决：

    1. ```sh
       npm cache clean --force
       ```

    2. Delete `node_modules` &&`package-lock.json`

    3. ```sh
       npm install
       ```

33. 父元素 `transform` 时, 子元素的 `position: fixed` 会失效, 变为 `position: absolute`

34. npm install 出现 `proxy` 问题

    ```sh
    npm config delete proxy
    npm install
    
    
    # 这个好用
    npm config set registry http://registry.npmjs.org/
    npm config set registry http://registry.npmjs.org/
    
    
    # 待试用
     npm config rm proxy
     npm config rm https-proxy
     
    # 待试用
    npm install -g ionic --verbose
    or
    npm install -g @angular/cli --verbose
    ```

35. 安装 `nvm`

    ```sh
    cd ~/
    ls -a
    
    # 查看有没有 .bash_profile 文件， 没有则创建一个
    touch ~/ .bash_profile
    
    wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash
    or
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh | bash
    
    ```

    注意事项

    + 不要使用 `homebrew` 安装 `nvm`
    + 关于 `.bash_profile` 文件, 如果 `home` 目录下没有则新创建一个就可以, 不需要写下面代码进去, 因为在执行安装命令的时候, 系统会自动写入这两句, 自己写入还可能会报错

36. css 选择同时具有两个 `class` 的元素

    ```css
    .classA.classB
    /* 中间没有空格 */
    ```

37. `uglifyjs-webpack-plugin`

    + 问题1 :` warnings is not a supported option`: 降低版本 `^1.1.1`

    ```js
    ...
    new UglifyJsWebpackPlugin({
      uglifyOptions: {
        // 删除注释
        output: {
          comments: false,
        },
        // 清除 log
        compress: {
          warnings: false,
          drop_debugger: true,
          drop_console: true,
          pure_funcs: ['console.log'],
        },
      },
    }),
    ...
    ```

38. `npm install`

    [传送门](https://juejin.cn/post/6844904193170341896)

    ```sh
    git config --global --unset http.proxy
    ```

39. Webpack 打包删除 log

    ```js
    // npm install terser-webpack-plugin
    
    module.exports = {
      optimization: {
    		minimize: true,
        minimizer: [
          new TerserWebpackPlugin({
            terserOptions: {
              compress: {
                warnings: false,
                drop_console: true,
                drop_debugger: true,
                pure_funcs: ['console.log'],
              }
            }
          })
        ]
      }
    }
    ```

40. `webpack-bundle-analyzer`

    ```sh
    npm install webpack-bundle-analyzer
    ```

    Web pack.config.js

    ```js
    const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
    
    ...
    	
    plugins: [
      ...,
      new BundleAnalyzerPlugin({
        analyzerMode: 'server',
        analyzerHost: '127.0.0.1',
        analyzerPort: 1234,
        reportFilename: 'report.html',
        defaultSizes: 'parsed',
        openAnalyzer: true,
        generateStatsFile: false,
        statsFilename: 'stats.json',
        statsOptions: null,
        logLevel: 'info',
      }),
    ]
    
    ...
    ```

    Package.json

    ```json
    "scripts": {
      analyz: "NODE_ENV=production npm_config_report=true npm run build"
    }
    ```

41. 绑定快捷键: `Mousetrap` [传送门](https://www.npmjs.com/package/mousetrap)

42. [md 特殊符号 ](https://www.cxyzjd.com/article/Logicr/82414854)

43. 编辑网页上的任意内容

    + 打开控制台
    + 输入 `document.designMode = 'on';`
    + `document.body.contentEditable='true';`
    + 以上两个都可以

44. 自动调节 `letter-space`, 文字两端对齐

    ```css
    text-align:justify
    
    ```

45. [图片懒加载](https://www.430115.com/article/622)

    > 使用 `IntersectionObserver` API

46. `useHistory` 要在 `<Router></Router>` 里用, 不然会

    ```jsx
    import { useHistory } from "react-router-dom";
    
    const history = useHistory();
    
    // 如果组件没被 <Router></Router> 包裹 history 会是 undefined
    ```

47. 设置 `rem`

    ```js
    function resizeHtmlFontSize(){
      		// 375 可以跟随设计稿变化, 尽量为设计稿宽度，
      		// 如果不在后面 *100 在某些机型浏览器会不正常
          document.documentElement.style.fontSize = (document.body.clientWidth / 375) * 100 + "px";
        }
    window.onload = () => {
      resizeHtmlFontSize();
      window.addEventListener("resize", function () {
        resizeHtmlFontSize();
      })
    }
    ```

48. 强烈建议不擅自更新插件版本

49. webpack 打包后 css 里的图片名称都变了

    > `css-loader` 的原因

50. `package.json` 中的 `^` 和 `~`

    + `~`: 他会更新到当前minor version（也就是中间的那位数字）中最新的版本。放到我们的例子中就是：body-parser:~1.15.2，这个库会去匹配更新到1.15.x的
    + `^`: 这个符号就显得非常的灵活了，他将会把当前库的版本更新到当前major version（也就是第一位数字）中最新的版本。放到我们的例子中就是：bluebird:^3.3.4，这个库会去匹配3.x.x中最新的版本，但是他不会自动更新到4.0.0。

    ```
    ~1.15.2 :=  >=1.15.2 <1.16.0     
    
    ^3.3.4 := >=3.3.4 <4.0.0
    1.15.2对应就是MAJOR,MINOR.PATCH：1是marjor version；15是minor version；2是patch version。
    
    MAJOR：这个版本号变化了表示有了一个不可以和上个版本兼容的大更改。
    
    MINOR：这个版本号变化了表示有了增加了新的功能，并且可以向后兼容。
    
    PATCH：这个版本号变化了表示修复了bug，并且可以向后兼容。
    
    ```

51. `React` 获取当前路由

    ```tsx
    import { useLocation } from 'react-router-dom';
    
    const Test = () => {
      const location = useLocation();
      
      useEffect(() => {
        console.log('location: ', location);
      }, [])
    }
    ```

52. js 判断是否滚动底部

    + `scrollTop`: 滚动条在 Y 轴上的滚动距离
    + `clientHeight`: 内容可视区域高度
    + `scrollHeight`: 内容可视区的高度 + 溢出 (滚动)距离

    > **scrollHeight = scrollTop + clientHeight **

53. `css` 文字间距

    ```css
    letter-space
    ```

54. 获取 `url` 参数问题

    ```js
    // 常规写法
    const getUrlParams = (key) => {
    	const url = window.location.search;
    	const obj = {};
    	if (url.indexOf('?') !== -1) {
    		const strs = url.slice(1).split('&');
    		for (let i = 0, l = strs.length; i < l; i++) {
    			const item = strs[i].split('=');
    			obj[item[0]] = item[1];
    		}
    	}
      console.log('obj', obj)
    	return obj[key];
    };
    
    // 碰到的问题
    // 在 hash 路由中, window.lcoation.search 是 '', 获取不到参数
    // 改版为从 hash 部分获取
    // 应该会有问题, 谨慎使用
    export const getUrlParams = (key) => {
    	const url = window.location.hash;
      console.log('url', url, window.location)
    	const obj = {};
      const index = url.indexOf('?');
    	if (index !== -1) {
    		const strs = url.slice(index+1).split('&');
    		for (let i = 0, l = strs.length; i < l; i++) {
    			const item = strs[i].split('=');
    			obj[item[0]] = item[1];
    		}
    	}
      console.log('obj', obj)
    	return obj[key];
    };
    
    ```

55. vscode 设置 git pull rebase

    ```sh
    git config --global pull.rebase true
    ```

56. mac `iterm2` 使用 bash

    ```
    只需将默认设置的 Command 改成 Custom Shell，输入框填写 /bin/bash
    ```

    [传送门](https://blog.csdn.net/hufang360/article/details/115105901)

57. [微信 sdk 签名校验工具](https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign)

58. `window.getSelection()`

59. 获取元素尺寸位置`getBoundingClientRect`

60. [标签名与节点名](http://aleembawany.com/2009/02/11/tagname-vs-nodename/)

    > 结论: 坚持使用 `nodeName`

61. 桌面端使用 web 代码时, 子路由下的子路由匹配不到

    桌面端 路由配置

    ```tsx
    <Router>
      <Route path="/store" exact component={Store} />
    </Router>
    ```

    Web 路由配置

    ```tsx
    <Router basename="/store">
      <Route path="/detail" exact component={Detail} />
    </Router>
    ```

    问题: 在桌面端进入 detail 页面时直接白屏, 看控制台组件没注入, 控制台显示 

    ```
    Navigated to http://localhost:9091/store/detail
    ```

    url 也没问题,

    解决: 桌面端路由配置添加一行

    ```tsx
    <Router>
      <Route path="/store" exact component={Store} />
      <Route path="/store/*" exact component={Store} />
    </Router>
    ```

62. 选中文本, 鼠标右击点击复制会取消选区

    > 给菜单添加样式
    >
    > user-select: none;

63. 鼠标右键 和 键盘 + 触摸屏点击 事件不一样



1. 





+ 